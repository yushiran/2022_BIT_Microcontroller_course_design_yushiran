C51 COMPILER V9.00   流水灯                                                                09/19/2022 22:37:48 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE 流水灯
OBJECT MODULE PLACED IN 流水灯.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 流水灯.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /* ch03-3-3.c - 流水灯实验程序  */
   2          //==声明区============================================
   3          #include        <reg51.h>       // 定义8051暂存器之标头档,P2-17~19 
   4          #define LED     P1                      // 定义LED接至Port 1
   5          void delay(int);                // 声明延迟函数 
   6          //==主程序============================================
   7          main()                                  // 主程序开始 
   8          {       unsigned char i;        // 声明无号数字元变数i(占1Bytes)        
   9   1              LED=0xfe;                       // 初值=1111 1110,只有最右1灯亮 
  10   1              while(1)                        // 无穷循环,程序一直跑 
  11   1              {       for(i=0;i<7;i++)// 左移7次 
  12   2                      {       delay(100);     // 延迟100 5m=0.5s 
  13   3                              LED=(LED<<1)|0x01;      // 左移1位,并设定最低位元为1 
  14   3                      }                               // 左移结束,只有最左1灯亮 
  15   2                      for(i=0;i<7;i++)// 右移7次 
  16   2                      {       delay(100);     // 延迟100 5m=0.5s 
  17   3                              LED=(LED>>1)|0x80;      // 右移1位,并设定最高位元为1
  18   3                      }                               // 结束右移,只有最右1灯亮 
  19   2              }                                       // while循环结束 
  20   1      }                                               // 主程序结束 
  21          //==子程序=============================================
  22          /* 延迟函数,延迟约x 5ms */
  23          void delay(int x)               // 延迟函数开始 
  24          {       int i,j;                        // 声明整数变数i,j 
  25   1              for (i=0;i<x;i++)       // 计数x次,延迟x 5ms 
  26   1                      for (j=0;j<600;j++);// 计数600次，延迟5ms 
  27   1      }                                               // 延迟函数结束 


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     97    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
